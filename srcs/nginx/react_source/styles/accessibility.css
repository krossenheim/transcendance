/* Accessibility CSS */

/* High Contrast Mode
   - Use a milder, targeted approach in light mode so whites don't blow out
   - Apply a stronger contrast filter in dark mode where it helps most
*/

/* High contrast should present a consistent, dark-style view regardless of theme
   â€” when enabled, emulate the stronger dark-mode high-contrast appearance even
   if the site is currently in light mode. */
.high-contrast {
  filter: contrast(1.9) saturate(1.05) !important;
  color-scheme: dark !important;
}

.high-contrast * {
  border-width: 2px !important;
}

/* In light mode, avoid overly thick black borders and heavy white backgrounds */
.high-contrast:not(.dark) button,
.high-contrast:not(.dark) a,
.high-contrast:not(.dark) input,
.high-contrast:not(.dark) select,
.high-contrast:not(.dark) textarea {
  /* Emulate dark-mode contrast for controls in high-contrast mode */
  font-weight: 700 !important;
  border: 3px solid #fff !important;
  background-color: #0b1220 !important;
  color: #e6eef8 !important;
}

/* In dark mode use slightly heavier borders so they remain visible */
.high-contrast.dark button,
.high-contrast.dark a,
.high-contrast.dark input,
.high-contrast.dark select,
.high-contrast.dark textarea {
  font-weight: 700 !important;
  border: 3px solid #fff !important;
}

/* Additionally, when high-contrast is present on the root in light mode,
   force a dark background and foreground so the UI matches the dark-mode
   high-contrast experience */
.high-contrast:not(.dark) {
  background-color: #0b1220 !important;
  color: #e6eef8 !important;
}

/* Remove transparency in high contrast mode for elements with Tailwind-style bg utilities */
.high-contrast [class*="bg-"][class*="/"] {
  opacity: 1 !important;
}

/* Reduced Motion - Disable all animations and transitions */
.reduce-motion,
.reduce-motion *,
.reduce-motion *::before,
.reduce-motion *::after {
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.001ms !important;
  transition-delay: 0s !important;
  scroll-behavior: auto !important;
}

.reduce-motion * {
  animation-name: none !important;
  transition-property: none !important;
}

/* Screen Reader Mode - Enhanced focus and readability */
.screen-reader-mode {
  line-height: 1.8 !important;
  letter-spacing: 0.03em !important;
}

.screen-reader-mode *:focus,
.screen-reader-mode *:focus-visible {
  outline: 4px solid #0066cc !important;
  outline-offset: 3px !important;
  box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.3) !important;
}

.screen-reader-mode.dark *:focus,
.screen-reader-mode.dark *:focus-visible {
  outline-color: #60a5fa !important;
  box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.3) !important;
}

/* Screen reader only text */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Skip to main content link for keyboard navigation */
.skip-to-main {
  position: absolute;
  left: -9999px;
  z-index: 999;
  background: #0066cc;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
}

.skip-to-main:focus {
  left: 50%;
  transform: translateX(-50%);
  top: 10px;
}

/* Focus visible for better keyboard navigation */
*:focus-visible {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

/* Better focus indicators for dark mode */
.dark *:focus-visible {
  outline-color: #60a5fa;
}
