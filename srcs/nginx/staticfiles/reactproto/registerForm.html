<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Belakwa Component</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <script type="text/babel">
    const { useState } = React;

    export function RegisterForm({ whenCompletedSuccesfully }) {
      /** @type {[string, React.Dispatch<React.SetStateAction<string>>]} */
      const [username, setUsername] = useState("");

      /** @param {React.FormEvent<HTMLFormElement>} e */
      function handleSubmit(e) {
        e.preventDefault();
        /** @type {AuthResponseType} */
        const response = { user: { username } };
        whenCompletedSuccesfully(response);
      }

      return (
        <form onSubmit={handleSubmit}>
          <input
            type="text"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
            placeholder="Username"
            required
          />
          <button type="submit">Register</button>
        </form>
      );
    }

    // Expose globally so other scripts can use it
    window.RegisterForm = RegisterForm;
  </script>
</body>
</html>
