<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Chat Window</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%; /* must include html */
      }

      #embedded-container {
        width: 100%;
        height: 100%; /* now fills the body */
      }
    </style>
  </head>
  <script type="module">
    const files_root =
      window.location.protocol + "//" + window.location.host + "/static";
    const url_loadHTML_js = `${files_root}/front/loadHtml.js`;
    const url_showToast_js = `${files_root}/front/toast.js`;
    const url_grid_js = `${files_root}/front/grid.js`;
    //export async function loadHTML(url, containerId) {
    // function showToast(message, duration = 3000, toast_container_id)
    // export async function loadHTML(url, containerId) {

    async function init() {
      // Dynamic imports
      const { loadHTML } = await import(url_loadHTML_js);
      const { showToast } = await import(url_showToast_js);
      const { gridCreateGrid } = await import(url_grid_js);

      const grid = gridCreateGrid("embedded-container");
      const middle = grid[4];
      await loadHTML(`${files_root}/debug.html`, middle);
      const n = 9;

      for (let i = 0; i < n; i++) {
        if (i == 4) continue;
        showToast("O_O", 200 * (i + 1), grid[i].id);
      }
    }

    init();
  </script>
  <body>
    <div id="embedded-container"></div>
  </body>
</html>
